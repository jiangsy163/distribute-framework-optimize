# 硬件选型 #


在实际生产中，不需要使用昂贵的硬件，但仍需要考虑实际的硬件负载，比如CPU、内存和磁盘；
Hadoop采用主从架构，硬件选择上面主节点一般都会比从节点性能上好点；

如果集群规模不大，可以参考硬件配置：

>CPU			双路四核2.6GHz

>内存			24GB  DDR3
>
>磁盘控制器	SAS控制器
>
>磁盘			1TB

### 从节点CPU和内存
从节点负责计算和存储需要CPU和内存来保证计算需求，磁盘空间保证存储需求。

对于Hadoop1,一个槽需要2~4G内存，CPU计算公式：双路六核HT技术的虚拟CPU个数为2*6*2=24,任务槽数24，按照内存计算，至少需要24G内存，如果任务数据量为1G那么可以同时处理24G数据。
对于Hadoop2，同样类似...

考虑作业每天可能不均匀分布，数据大量倾斜到某个时间段，或倾斜到某个数据节点，难说还需要额外的计算资源。




在做集群规划时，需要根据存储空间来考虑集群大小，获得存储的能力也获得计算资源。

### 存储：
----------
>首先考虑因素，块的副本数，一般副本数都是3，那么存储1T数据，集群实际需要3T硬盘，分摊到每个节点。
>在就是，我们需要预留额外20~30%的磁盘空间。
>
>所以，如果你规划系统运行5年时间，5年的数据达到2T，那么至少【2T*3/（1-0.3）】=8T的数据空间。
>
>当然，你最好考虑另外一些因素，比如一个数据节点宕机，数据块将迁移到其它节点；宕机一两台机器，集群能不能承受这个压力？
>
>在存储容量上，可以先这样考虑，当然我们也可以在后续集群的扩大的过程中新增节点，这也可以哦！	